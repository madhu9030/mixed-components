{"ast":null,"code":"var _jsxFileName = \"/Users/madhusudanreddysanaiahgari/Documents/Todo-App/src/components/randomSite/main.js\";\nimport React, { useState } from \"react\";\nimport data from \"../../json/productsData\";\nimport Products from \"./products\";\nimport \"./products.scss\";\nimport Summary from \"./summary\";\nimport NavBarSearch from \"./navBarSearch\";\n\nconst Main = () => {\n  const [products, setProducts] = useState(data.products);\n  const [cartItems, setCartItems] = useState([]);\n  console.log(products);\n\n  const addToCart = e => {\n    const isExist = cartItems.find(data => data.id === e.target.id);\n    !isExist && products.map(data => {\n      if (e.target.id === data.id) {\n        return setCartItems([...cartItems, data]);\n      }\n    });\n    isExist && setCartItems(cartItems.map(item => {\n      if (e.target.id === item.id) {\n        return { ...item,\n          qty: item.qty + 1\n        };\n      } else {\n        return item;\n      }\n    }));\n    isExist && e.target.dataset.remove && setCartItems(cartItems.map(item => {\n      if (e.target.id === item.id && item.qty !== 1) {\n        return { ...item,\n          qty: item.qty - 1\n        };\n      } else {\n        return item;\n      }\n    }));\n\n    if (e.target.dataset.remove && isExist.qty === 1) {\n      setCartItems(cartItems.filter(item => e.target.id !== item.id));\n    }\n  };\n\n  const getFilterList = e => {\n    setInput(e.target.value);\n    const filtered = products.filter(product => {\n      console.log(e.target.value, product.name.toLowerCase(), \"filter\");\n\n      if (product.name.toLowerCase().startsWith(e.target.value.toLowerCase())) {\n        return true;\n      } else if (e.target.value === \"\") {\n        return products;\n      }\n    });\n    setFilter(filtered);\n    setProducts(...filter);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBarSearch, {\n    setProducts: setProducts,\n    products: products,\n    getFilterList: getFilterList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    setCartItems: setCartItems,\n    addToCart: addToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Summary, {\n    cartItems: cartItems,\n    addToCart: addToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Main;","map":{"version":3,"sources":["/Users/madhusudanreddysanaiahgari/Documents/Todo-App/src/components/randomSite/main.js"],"names":["React","useState","data","Products","Summary","NavBarSearch","Main","products","setProducts","cartItems","setCartItems","console","log","addToCart","e","isExist","find","id","target","map","item","qty","dataset","remove","filter","getFilterList","setInput","value","filtered","product","name","toLowerCase","startsWith","setFilter"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport data from \"../../json/productsData\";\nimport Products from \"./products\";\nimport \"./products.scss\";\nimport Summary from \"./summary\";\nimport NavBarSearch from \"./navBarSearch\";\n\nconst Main = () => {\n  const [products, setProducts] = useState(data.products);\n  const [cartItems, setCartItems] = useState([]);\n  console.log(products);\n  const addToCart = (e) => {\n    const isExist = cartItems.find((data) => data.id === e.target.id);\n\n    !isExist &&\n      products.map((data) => {\n        if (e.target.id === data.id) {\n          return setCartItems([...cartItems, data]);\n        }\n      });\n\n    isExist &&\n      setCartItems(\n        cartItems.map((item) => {\n          if (e.target.id === item.id) {\n            return { ...item, qty: item.qty + 1 };\n          } else {\n            return item;\n          }\n        })\n      );\n\n    isExist &&\n      e.target.dataset.remove &&\n      setCartItems(\n        cartItems.map((item) => {\n          if (e.target.id === item.id && item.qty !== 1) {\n            return { ...item, qty: item.qty - 1 };\n          } else {\n            return item;\n          }\n        })\n      );\n\n    if (e.target.dataset.remove && isExist.qty === 1) {\n      setCartItems(cartItems.filter((item) => e.target.id !== item.id));\n    }\n  };\n\n  const getFilterList = (e) => {\n    setInput(e.target.value);\n    const filtered = products.filter((product) => {\n      console.log(e.target.value, product.name.toLowerCase(), \"filter\");\n      if (product.name.toLowerCase().startsWith(e.target.value.toLowerCase())) {\n        return true;\n      } else if (e.target.value === \"\") {\n        return products;\n      }\n    });\n    setFilter(filtered);\n    setProducts(...filter);\n  };\n\n  return (\n    <div>\n      <NavBarSearch\n        setProducts={setProducts}\n        products={products}\n        getFilterList={getFilterList}\n      />\n      <div className=\"products-info\">\n        <Products\n          products={products}\n          setCartItems={setCartItems}\n          addToCart={addToCart}\n        />\n        <Summary cartItems={cartItems} addToCart={addToCart} />\n      </div>\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}