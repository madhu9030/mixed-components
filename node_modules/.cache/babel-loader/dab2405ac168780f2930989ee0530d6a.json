{"ast":null,"code":"import _toConsumableArray from\"/Users/madhusudanreddysanaiahgari/Documents/Todo-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/madhusudanreddysanaiahgari/Documents/Todo-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./getRandomUser.scss\";import Loading from\"../loading/loading\";var GetRandomUser=function GetRandomUser(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];var fetchNextUser=function fetchNextUser(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;fetch(\"https://randomuser.me/api?page=\".concat(page)).then(function(response){return response.json();}).then(function(data){setUser(data);var newResults=[].concat(_toConsumableArray(results),_toConsumableArray(data.results));setResults(newResults);});};useEffect(function(){var fetchNextUser=function fetchNextUser(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;fetch(\"https://randomuser.me/api?page=\".concat(page)).then(function(response){return response.json();}).then(function(data){setUser(data);var newResults=[].concat(_toConsumableArray(results),_toConsumableArray(data.results));setResults(newResults);});};fetchNextUser();},[]);var debounce=function debounce(fn,delay){var setTime;return function(){for(var _len=arguments.length,arg=new Array(_len),_key=0;_key<_len;_key++){arg[_key]=arguments[_key];}if(setTime){clearTimeout(setTime);}setTime=setTimeout(function(){fn.apply(void 0,arg);},delay);};};return user?/*#__PURE__*/React.createElement(\"div\",{className:\"user-data fade-in\"},results.length!==0?results.map(function(user){return/*#__PURE__*/React.createElement(\"div\",{key:user.name.first,className:\"user-info animation\"},/*#__PURE__*/React.createElement(\"div\",null,\"Name: \",user.name.first),/*#__PURE__*/React.createElement(\"img\",{src:user.picture.thumbnail,alt:\"\"}));}):/*#__PURE__*/React.createElement(Loading,{text:\"Loading\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:debounce(function(){fetchNextUser();},300),className:\"data-button animation\"},\"Get new user\")):\"\";};export default GetRandomUser;","map":{"version":3,"sources":["/Users/madhusudanreddysanaiahgari/Documents/Todo-App/src/components/getRamdonUser/getRandomUser.js"],"names":["React","useState","useEffect","Loading","GetRandomUser","user","setUser","results","setResults","fetchNextUser","page","fetch","then","response","json","data","newResults","debounce","fn","delay","setTime","arg","clearTimeout","setTimeout","length","map","name","first","picture","thumbnail"],"mappings":"8VAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,sBAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,eACFH,QAAQ,CAAC,EAAD,CADN,wCACnBI,IADmB,eACbC,OADa,8BAEIL,QAAQ,CAAC,EAAD,CAFZ,yCAEnBM,OAFmB,eAEVC,UAFU,eAI1B,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAc,IAAbC,CAAAA,IAAa,2DAAN,CAAM,CAClCC,KAAK,0CAAmCD,IAAnC,EAAL,CACGE,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CAHH,EAIGF,IAJH,CAIQ,SAACG,IAAD,CAAU,CACdT,OAAO,CAACS,IAAD,CAAP,CACA,GAAMC,CAAAA,UAAU,8BAAOT,OAAP,qBAAmBQ,IAAI,CAACR,OAAxB,EAAhB,CACAC,UAAU,CAACQ,UAAD,CAAV,CACD,CARH,EASD,CAVD,CAYAd,SAAS,CAAC,UAAM,CACd,GAAMO,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAc,IAAbC,CAAAA,IAAa,2DAAN,CAAM,CAClCC,KAAK,0CAAmCD,IAAnC,EAAL,CACGE,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CAHH,EAIGF,IAJH,CAIQ,SAACG,IAAD,CAAU,CACdT,OAAO,CAACS,IAAD,CAAP,CACA,GAAMC,CAAAA,UAAU,8BAAOT,OAAP,qBAAmBQ,IAAI,CAACR,OAAxB,EAAhB,CACAC,UAAU,CAACQ,UAAD,CAAV,CACD,CARH,EASD,CAVD,CAWAP,aAAa,GACd,CAbQ,CAaN,EAbM,CAAT,CAeA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,EAAD,CAAKC,KAAL,CAAe,CAC9B,GAAIC,CAAAA,OAAJ,CACA,MAAO,WAAkB,+BAALC,GAAK,0CAALA,GAAK,wBACvB,GAAID,OAAJ,CAAa,CACXE,YAAY,CAACF,OAAD,CAAZ,CACD,CACDA,OAAO,CAAGG,UAAU,CAAC,UAAM,CACzBL,EAAE,MAAF,QAAMG,GAAN,EACD,CAFmB,CAEjBF,KAFiB,CAApB,CAGD,CAPD,CAQD,CAVD,CAYA,MAAOd,CAAAA,IAAI,cACT,2BAAK,SAAS,CAAC,mBAAf,EACGE,OAAO,CAACiB,MAAR,GAAmB,CAAnB,CACCjB,OAAO,CAACkB,GAAR,CAAY,SAACpB,IAAD,CAAU,CACpB,mBACE,2BAAK,GAAG,CAAEA,IAAI,CAACqB,IAAL,CAAUC,KAApB,CAA2B,SAAS,CAAC,qBAArC,eACE,wCAAYtB,IAAI,CAACqB,IAAL,CAAUC,KAAtB,CADF,cAEE,2BAAK,GAAG,CAAEtB,IAAI,CAACuB,OAAL,CAAaC,SAAvB,CAAkC,GAAG,CAAC,EAAtC,EAFF,CADF,CAMD,CAPD,CADD,cAUC,oBAAC,OAAD,EAAS,IAAI,CAAC,SAAd,EAXJ,cAcE,8BACE,OAAO,CAAEZ,QAAQ,CAAC,UAAM,CACtBR,aAAa,GACd,CAFgB,CAEd,GAFc,CADnB,CAIE,SAAS,CAAC,uBAJZ,iBAdF,CADS,CAyBT,EAzBF,CA2BD,CAtED,CAwEA,cAAeL,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./getRandomUser.scss\";\nimport Loading from \"../loading/loading\";\n\nconst GetRandomUser = () => {\n  const [user, setUser] = useState([]);\n  const [results, setResults] = useState([]);\n\n  const fetchNextUser = (page = 1) => {\n    fetch(`https://randomuser.me/api?page=${page}`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        setUser(data);\n        const newResults = [...results, ...data.results];\n        setResults(newResults);\n      });\n  };\n\n  useEffect(() => {\n    const fetchNextUser = (page = 1) => {\n      fetch(`https://randomuser.me/api?page=${page}`)\n        .then((response) => {\n          return response.json();\n        })\n        .then((data) => {\n          setUser(data);\n          const newResults = [...results, ...data.results];\n          setResults(newResults);\n        });\n    };\n    fetchNextUser();\n  }, []);\n\n  const debounce = (fn, delay) => {\n    let setTime;\n    return function (...arg) {\n      if (setTime) {\n        clearTimeout(setTime);\n      }\n      setTime = setTimeout(() => {\n        fn(...arg);\n      }, delay);\n    };\n  };\n\n  return user ? (\n    <div className=\"user-data fade-in\">\n      {results.length !== 0 ? (\n        results.map((user) => {\n          return (\n            <div key={user.name.first} className=\"user-info animation\">\n              <div>Name: {user.name.first}</div>\n              <img src={user.picture.thumbnail} alt=\"\" />\n            </div>\n          );\n        })\n      ) : (\n        <Loading text=\"Loading\" />\n      )}\n\n      <button\n        onClick={debounce(() => {\n          fetchNextUser();\n        }, 300)}\n        className=\"data-button animation\"\n      >\n        Get new user\n      </button>\n    </div>\n  ) : (\n    \"\"\n  );\n};\n\nexport default GetRandomUser;\n"]},"metadata":{},"sourceType":"module"}